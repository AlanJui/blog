---
layout: post
title: '在 AWS EC2 雲端主機安裝 MongoDB '
date: '2013-10-30T11:39:00.000+08:00'
author: 居正中
tags:
- MongoDB
- AWS EC2
- Web技術
- Node.js
modified_time: '2013-11-01T11:24:15.337+08:00'
blogger_id: tag:blogger.com,1999:blog-1068034375721560223.post-3487416840194981595
blogger_orig_url: http://blog.ccc99.tw/2013/10/aws-ec2-mongodb.html
---

學著用MongoDB已好一陣子了，一直沒搞清楚，這到底是「芒果DB」；還是「蒙古DB」？<br /><div></div><div><br /></div><div>如果是「蒙古DB」，會讓人聯想到「蒙古大夫」，那......將資料存放在這，會不會有些令人擔憂？！ &nbsp; &nbsp;^^"</div><div><br /></div><div>在我的Mac電腦，研習MongoDB一陣子後，具備一些基本的掌握度了。所以，接著也想將MongoDB，安裝在我EC2的雲端主機上，啟動運轉，開始使用。</div><div><br /></div><div>「如何在 AWS EC2 雲端主機安裝 MongoDB？ 」，在網路搜尋先知先覺的PO文，結果，找到如下的這篇，依著指引照著做，一次就搞定。</div><div><br /></div><span style="font-size: large;"><a href="http://glassonionblog.wordpress.com/2012/01/29/installing-mongodb-on-ec2-linux-instance/" style="background-color: #a2c4c9;" target="_blank"><b>Installing MongoDB on an EC2 Linux instance</b></a></span><br /><div><br /></div><div>提供給需要的同好做參考，但請注意，這篇的作法僅用於AMI版的Linux；不適用於Ubuntu版。</div><div><br /></div><div>完成安裝後，應該心情很High；感覺Very good吧？！<br /><br />但.......，能確定安裝與設定都正確了嗎？那MongoDB Service果真已能正常運作了嗎？<br /><br />為求確認，以便心安，所以，需要有「作法」能夠驗證。我個人的驗證作法，會針對如下兩項目標進行檢驗：</div><div><ol><li>Service在作業系統中，是否已在執行？</li><li>DB的指令，是否能夠操作資料庫？</li></ol><div><br />至於以上兩項的驗證目標，其執行的細節程序如下：<br /><br />【註】：<span style="background-color: yellow;">文字背景</span>標黃色處，表「個人需輸入的指令」；<span style="color: red;">文字前景</span>標紅色之字，表「需要目視檢查驗證的輸出結果」。<br /><br /></div><h3><span style="color: #741b47;">驗證Services已在執行</span></h3></div><div><span style="font-family: Arial; font-size: 13px;">$ </span><span style="background-color: #fffaa5; font-family: Arial; font-size: 13px;">service mongod status</span><br /><span style="font-family: Arial; font-size: 13px;">/etc/init.d/mongod: line 69: ulimit: open files: cannot modify limit: Operation not permitted</span><br /><span style="color: #ff2600; font-family: Arial; font-size: 13px;">mongod (pid 8645) is running...</span></div><div><br /></div><h3><span style="color: #741b47;">驗證可使用DB指令，進行資料操作</span></h3><div><span style="font-family: Arial; font-size: 13px;">$ </span><span style="background-color: #fffaa5; font-family: Arial; font-size: 13px;">mongo</span><br /><span style="font-family: Arial; font-size: 13px;">MongoDB shell version: 2.4.7</span><br /><span style="font-family: Arial; font-size: 13px;">connecting to: test</span><br /><span style="font-family: Arial; font-size: 13px;">Welcome to the MongoDB shell.</span><br /><span style="font-family: Arial; font-size: 13px;">For interactive help, type "help".</span><br /><span style="font-family: Arial; font-size: 13px;">For more comprehensive documentation, see</span><br /><span style="font-family: Arial; font-size: 13px;">&nbsp;&nbsp;&nbsp;&nbsp; http://docs.mongodb.org/</span><br /><span style="font-family: Arial; font-size: 13px;">Questions? Try the support group</span><br /><span style="font-family: Arial; font-size: 13px;">&nbsp;&nbsp;&nbsp;&nbsp; http://groups.google.com/group/mongodb-user</span><br /><span style="font-family: Arial; font-size: 13px;">&gt; </span><span style="background-color: #fffaa5; font-family: Arial; font-size: 13px;">db.test.save({a:1})</span><br /><span style="font-family: Arial; font-size: 13px;">&gt; </span><span style="background-color: #fffaa5; font-family: Arial; font-size: 13px;">db.test.find()</span><br /><span style="font-family: Arial; font-size: 13px;">{ "_id" : ObjectId("5270748a601825edfa039398"), <span style="color: red;">"a" : 1</span> }</span><br /><span style="font-family: Arial; font-size: 13px;">&gt; </span><span style="background-color: #fffaa5; font-family: Arial; font-size: 13px;">exit</span><br /><span style="font-family: Arial; font-size: 13px;">bye</span></div><div><br /><br /></div>